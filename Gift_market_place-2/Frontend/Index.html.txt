<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –ø–æ–¥–∞—Ä–∫–æ–≤</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: sans-serif; padding: 15px; background: #f9f9f9; }
    .product { margin-bottom: 20px; padding: 10px; background: white; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
    button { background: #2ea6ff; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <h2>üéÅ –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∞—Ä–æ–∫</h2>
  <div id="products">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    async function loadProducts() {
      const res = await fetch("https://your-backend-url.onrender.com/products");  // –ó–ê–ú–ï–ù–ò –Ω–∞ —Å–≤–æ–π URL
      const products = await res.json();
      const container = document.getElementById("products");
      container.innerHTML = "";

      products.forEach(p => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
          <strong>${p.name}</strong><br>
          –¶–µ–Ω–∞: <b>${p.price}‚ÇΩ</b><br><br>
          <button onclick="addToCart('${p.id}')">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        `;
        container.appendChild(div);
      });
    }

    function addToCart(id) {
      tg.sendData(JSON.stringify({ action: "add_to_cart", id }));
      tg.close();
    }

    loadProducts();
  </script>
</body>
</html>